<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙÙƒØ± - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù…</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap" rel="stylesheet">

    <style>
        /* ØªØ£ÙƒÙŠØ¯ Ø£Ù† Ø§Ù„Ø®Ù„ÙÙŠØ© ØªØºØ·ÙŠ Ø§Ù„Ø´Ø§Ø´Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ */
        html, body {
            height: 100%; 
            margin: 0;
            padding: 0;
        }

        /* ------------------------------------------------------------------ */
        /* ØªØ¹Ø±ÙŠÙ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„ØªØ§Ø¨Ø¹Ø© Ù„Ù„Ø«ÙŠÙ…Ø§Øª Ù„Ù€ (Ø§Ù„Ø®Ù„ÙÙŠØ© ÙÙ‚Ø·) */
        /* ------------------------------------------------------------------ */
        :root {
            --dot-color: #D4AF37; /* Default Gold */
            --float-bg-color: rgba(212, 175, 55, 0.2);
        }

        body.pink-theme {
            --dot-color: #EC4899; /* Pink */
            --float-bg-color: rgba(236, 72, 153, 0.2);
        }
        
        body {
            /* Ø®Ù„ÙÙŠØ© Ø¨ÙŠØ¶Ø§Ø¡ Ø«Ø§Ø¨ØªØ© Ù…Ø¹ Ù†Ù‚Ø§Ø· Ù…ØªØºÙŠØ±Ø© Ø§Ù„Ù„ÙˆÙ† */
            background-color: #ffffff; 
            background-image: 
                radial-gradient(circle at 1px 1px, var(--dot-color) 1px, transparent 0); 
            background-size: 25px 25px;
            
            font-family: 'Amiri', serif;
            color: #333333; 
            overflow-x: hidden; 
            position: relative; 
            transition: all 0.5s ease-in-out; 
        }

        /* Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù‡Ù…Ø© Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© */
        .completed-task {
            text-decoration: line-through;
            color: #888 !important; 
            opacity: 0.8;
        }
        
        /* Ø²Ø± Ø§Ù„ØªØ±Ø§Ø¬Ø¹ (Ù„ÙˆÙ† ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹) */
        .theme-btn-reverse { transition: color 0.3s; }
        .theme-btn-reverse:hover { opacity: 0.8; }
        
        /* ---------------------------------------------------- */
        /* Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø­Ø±ÙƒØ© ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ© */
        /* ---------------------------------------------------- */
        
        @keyframes float-up {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            50% { opacity: 0.5; }
            100% { transform: translateY(-50vh) rotate(360deg); opacity: 0.1; }
        }

        .floating-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1; 
        }
        
        .floating-element {
            position: absolute;
            display: block;
            list-style: none;
            background: var(--float-bg-color); /* Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ØªØºÙŠØ± Ø§Ù„Ù„ÙˆÙ† */
            animation: float-up 25s linear infinite;
            bottom: -150px;
            border-radius: 3px; 
        }
        /* ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆØ§Ù‚Ø¹ ÙˆØ£Ø­Ø¬Ø§Ù… Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø­Ø±ÙƒØ© */
        .floating-element:nth-child(1) { left: 25%; width: 80px; height: 80px; animation-duration: 25s; }
        .floating-element:nth-child(2) { left: 10%; width: 20px; height: 20px; animation-duration: 12s; animation-delay: 2s; border-radius: 50%; } 
        .floating-element:nth-child(3) { left: 70%; width: 20px; height: 20px; animation-duration: 15s; animation-delay: 4s; }
        .floating-element:nth-child(4) { left: 40%; width: 60px; height: 60px; animation-duration: 20s; animation-delay: 0s; border-radius: 50%; } 
        .floating-element:nth-child(5) { left: 65%; width: 20px; height: 20px; animation-duration: 10s; animation-delay: 0s; }
        .floating-element:nth-child(6) { left: 75%; width: 110px; height: 110px; animation-duration: 35s; animation-delay: 3s; border-radius: 50%; } 
    </style>
</head>
<body> 
    
    <div class="floating-background">
        <li class="floating-element"></li>
        <li class="floating-element"></li>
        <li class="floating-element"></li>
        <li class="floating-element"></li>
        <li class="floating-element"></li>
        <li class="floating-element"></li>
    </div>

    <div class="container mx-auto max-w-lg mt-12 mb-12 p-6">
        
        <div class="flex justify-center gap-4 mb-6">
            <button 
                id="setPinkThemeBtn" 
                class="bg-pink-500 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-md hover:bg-pink-600 transition"
            >
                âœ¨ ÙˆØ¶Ø¹ Ø§Ù„Ø¨Ù†Ø§Øª (ÙˆØ±Ø¯ÙŠ)
            </button>
            <button 
                id="setGoldThemeBtn" 
                class="bg-yellow-600 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-md hover:bg-yellow-700 transition"
            >
                ğŸ‘‘ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ (Ø°Ù‡Ø¨ÙŠ)
            </button>
        </div>
        
        <div class="bg-white bg-opacity-95 border border-gray-300 rounded-xl shadow-xl p-6">
            
            <h1 id="mainTitle" class="text-5xl font-bold text-center mb-4" style="font-family: 'Amiri', serif;">ÙÙÙƒØ±</h1>

            <div class="text-center my-6 space-y-3">
                <p id="verseText1" class="text-xl" style="font-family: 'Amiri', serif;">"ÙˆÙØ£ÙÙ† Ù„Ù‘ÙÙŠÙ’Ø³Ù Ù„ÙÙ„Ø¥ÙÙ†Ø³ÙØ§Ù†Ù Ø¥ÙÙ„Ù‘ÙØ§ Ù…ÙØ§ Ø³ÙØ¹ÙÙ‰Ù°"</p>
                <p id="verseText2" class="text-lg" style="font-family: 'Amiri', serif;">"Ø¥ÙÙ†Ù‘Ù Ù…ÙØ¹Ù Ø§Ù„Ù’Ø¹ÙØ³Ù’Ø±Ù ÙŠÙØ³Ù’Ø±Ù‹Ø§"</p>
            </div>

            <div class="flex flex-col sm:flex-row gap-2 mb-4">
                <input 
                    type="text" 
                    id="taskInput" 
                    placeholder="Ø£Ø¶Ù Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©..." 
                    class="flex-grow p-3 bg-gray-50 border border-gray-400 text-gray-900 placeholder-gray-500 rounded-lg focus:outline-none focus:ring-2 transition"
                >
                <button 
                    id="addTaskBtn" 
                    class="w-full sm:w-auto text-white px-6 py-3 rounded-lg font-bold shadow-md focus:outline-none focus:ring-2 focus:ring-opacity-75 transition"
                >
                    Ø¥Ø¶Ø§ÙØ©
                </button>
            </div>

            <ul id="taskList" class="space-y-3">
                </ul>

        </div>

        <div id="error-message" class="hidden fixed top-5 left-1/2 -translate-x-1/2 px-4 py-3 rounded-lg shadow-lg" role="alert">
            <strong class="font-bold">Ø®Ø·Ø£!</strong>
            <span class="block sm:inline">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù†Øµ Ù„Ù„Ù…Ù‡Ù…Ø©.</span>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            const taskInput = document.getElementById('taskInput');
            const addTaskBtn = document.getElementById('addTaskBtn');
            const taskList = document.getElementById('taskList');
            const errorMessage = document.getElementById('error-message');
            const body = document.body;
            const mainTitle = document.getElementById('mainTitle');
            const verseText1 = document.getElementById('verseText1');
            const verseText2 = document.getElementById('verseText2');
            
            // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø«ÙŠÙ…
            const setPinkThemeBtn = document.getElementById('setPinkThemeBtn');
            const setGoldThemeBtn = document.getElementById('setGoldThemeBtn');

            let errorTimeout; 
            const STORAGE_KEY = 'fikerTasks'; // Ù…ÙØªØ§Ø­ Ø­ÙØ¸ Ø§Ù„Ù…Ù‡Ø§Ù…
            
            // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¢ÙŠØ§Øª Ø§Ù„Ù…Ù„Ù‡Ù…Ø© (Ù…Ø®ØªØµØ±Ø©)
            const quranicVerses = [
                "ÙÙØ§ØµÙ’Ø¨ÙØ±Ù’ Ø¥ÙÙ†Ù‘Ù ÙˆÙØ¹Ù’Ø¯Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø­ÙÙ‚Ù‘ÙŒ Û–", 
                "ÙˆÙÙ…ÙØ§ ØªÙÙˆÙ’ÙÙÙŠÙ‚ÙÙŠ Ø¥ÙÙ„Ù‘ÙØ§ Ø¨ÙØ§Ù„Ù„Ù‘ÙÙ‡Ù", 
                "Ù„ÙØ§ ØªÙÙ‚Ù’Ù†ÙØ·ÙÙˆØ§ Ù…ÙÙ† Ø±Ù‘ÙØ­Ù’Ù…ÙØ©Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù", 
                "Ø¥ÙÙ†Ù‘Ù Ù…ÙØ¹Ù Ø§Ù„Ù’Ø¹ÙØ³Ù’Ø±Ù ÙŠÙØ³Ù’Ø±Ù‹Ø§",
                "ÙˆÙÙ„ÙØ³ÙÙˆÙ’ÙÙ ÙŠÙØ¹Ù’Ø·ÙÙŠÙƒÙ Ø±ÙØ¨Ù‘ÙÙƒÙ ÙÙØªÙØ±Ù’Ø¶ÙÙ‰Ù°",
                "ÙˆÙÙ…ÙÙ† ÙŠÙØªÙÙˆÙÙƒÙ‘ÙÙ„Ù’ Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙÙÙ‡ÙÙˆÙ Ø­ÙØ³Ù’Ø¨ÙÙ‡Ù",
                "Ø£ÙÙ„ÙØ§ Ø¨ÙØ°ÙÙƒÙ’Ø±Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ØªÙØ·Ù’Ù…ÙØ¦ÙÙ†Ù‘Ù Ø§Ù„Ù’Ù‚ÙÙ„ÙÙˆØ¨Ù",
                "ÙˆÙØ¨ÙØ´Ù‘ÙØ±Ù Ø§Ù„ØµÙ‘ÙØ§Ø¨ÙØ±ÙÙŠÙ†Ù",
                "Ù‚ÙÙ„ Ù„Ù‘ÙÙ† ÙŠÙØµÙÙŠØ¨ÙÙ†ÙØ§ Ø¥ÙÙ„Ù‘ÙØ§ Ù…ÙØ§ ÙƒÙØªÙØ¨Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ù„ÙÙ†ÙØ§",
                "Ø¥ÙÙ†Ù‘Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ù„ÙØ§ ÙŠÙØºÙÙŠÙ‘ÙØ±Ù Ù…ÙØ§ Ø¨ÙÙ‚ÙÙˆÙ’Ù…Ù Ø­ÙØªÙ‘ÙÙ‰Ù° ÙŠÙØºÙÙŠÙ‘ÙØ±ÙÙˆØ§ Ù…ÙØ§ Ø¨ÙØ£ÙÙ†ÙÙØ³ÙÙ‡ÙÙ…Ù’"
            ];

            function getRandomVerse() {
                const randomIndex = Math.floor(Math.random() * quranicVerses.length);
                return quranicVerses[randomIndex];
            }
            
            /* ------------------------------------------------------------------ */
            /* Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙØ¦Ø§Øª Tailwind Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©) */
            /* ------------------------------------------------------------------ */
            function updateThemeElements(themeName) {
                // Ø¥Ø²Ø§Ù„Ø© ÙØ¦Ø§Øª Ø§Ù„Ø«ÙŠÙ…Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
                const currentThemeClasses = ['text-yellow-600', 'text-yellow-700', 'text-yellow-800', 'bg-yellow-600', 'hover:bg-yellow-500', 'focus:ring-yellow-600', 'focus:border-yellow-600', 'text-pink-600', 'text-pink-700', 'text-pink-800', 'bg-pink-600', 'hover:bg-pink-500', 'focus:ring-pink-600', 'focus:border-pink-600', 'bg-pink-100', 'border-pink-400', 'text-pink-800', 'bg-yellow-100', 'border-yellow-400', 'text-yellow-800'];
                
                // ØªÙ†Ø¸ÙŠÙ ÙØ¦Ø§Øª Ø§Ù„Ø¹Ù†Ø§ØµØ±
                mainTitle.classList.remove(...currentThemeClasses);
                verseText1.classList.remove(...currentThemeClasses);
                verseText2.classList.remove(...currentThemeClasses);
                taskInput.classList.remove(...currentThemeClasses);
                addTaskBtn.classList.remove(...currentThemeClasses);
                errorMessage.classList.remove('bg-pink-100', 'border-pink-400', 'text-pink-800', 'bg-yellow-100', 'border-yellow-400', 'text-yellow-800');
                
                // ØªØ­Ø¯ÙŠØ¯ ÙØ¦Ø§Øª Ø§Ù„Ø«ÙŠÙ… Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
                if (themeName === 'pink-theme') {
                    // ØªØ·Ø¨ÙŠÙ‚ Ø£Ù„ÙˆØ§Ù† Ø§Ù„ÙˆØ±Ø¯ÙŠ
                    mainTitle.classList.add('text-pink-600');
                    verseText1.classList.add('text-pink-700');
                    verseText2.classList.add('text-pink-800');
                    taskInput.classList.add('focus:ring-pink-600', 'focus:border-pink-600');
                    addTaskBtn.classList.add('bg-pink-600', 'hover:bg-pink-500', 'focus:ring-pink-600');
                    errorMessage.classList.add('bg-pink-100', 'border-pink-400', 'text-pink-800');
                    
                    // ØªØ­Ø¯ÙŠØ« Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¢ÙŠØ§Øª Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø©
                    document.querySelectorAll('.verse-element').forEach(el => {
                        el.classList.remove('text-yellow-600');
                        el.classList.add('text-pink-600');
                    });
                    
                } else {
                    // ØªØ·Ø¨ÙŠÙ‚ Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø°Ù‡Ø¨ÙŠ (Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©)
                    mainTitle.classList.add('text-yellow-600');
                    verseText1.classList.add('text-yellow-700');
                    verseText2.classList.add('text-yellow-800');
                    taskInput.classList.add('focus:ring-yellow-600', 'focus:border-yellow-600');
                    addTaskBtn.classList.add('bg-yellow-600', 'hover:bg-yellow-500', 'focus:ring-yellow-600');
                    errorMessage.classList.add('bg-yellow-100', 'border-yellow-400', 'text-yellow-800');
                    
                    // ØªØ­Ø¯ÙŠØ« Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¢ÙŠØ§Øª Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø©
                    document.querySelectorAll('.verse-element').forEach(el => {
                        el.classList.remove('text-pink-600');
                        el.classList.add('text-yellow-600');
                    });
                }
            }


            function setTheme(themeName) {
                // 1. ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒÙ„Ø§Ø³ Ø¹Ù„Ù‰ Ø§Ù„Ù€ body Ù„ØªØºÙŠÙŠØ± Ø§Ù„Ø®Ù„ÙÙŠØ© ÙˆØ§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¹Ø§Ø¦Ù…Ø©
                body.classList.remove('gold-theme', 'pink-theme');
                body.classList.add(themeName);
                
                // 2. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ø¹Ù†Ø§ØµØ± (Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©)
                updateThemeElements(themeName);

                // 3. Ø­ÙØ¸ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­
                localStorage.setItem('appTheme', themeName);
            }

            function showErrorMessage(message) {
                if (errorTimeout) {
                    clearTimeout(errorTimeout);
                }
                
                // ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø£Ù„ÙˆØ§Ù† Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ Ø¹Ø¨Ø± updateThemeElements
                errorMessage.querySelector('span').textContent = message;
                errorMessage.classList.remove('hidden');

                errorTimeout = setTimeout(() => {
                    errorMessage.classList.add('hidden');
                }, 3000);
            }
            
            /* ------------------------------------------------------------------ */
            /* Ø¯ÙˆØ§Ù„ Ø­ÙØ¸ ÙˆØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù‡Ø§Ù… Ù…Ø­Ù„ÙŠØ§Ù‹ (localStorage) */
            /* ------------------------------------------------------------------ */
            
            function saveTasks() {
                const tasks = [];
                taskList.querySelectorAll('li').forEach(li => {
                    tasks.push({
                        text: li.querySelector('.task-text').textContent,
                        isCompleted: li.querySelector('.task-text').classList.contains('completed-task')
                    });
                });
                localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
            }

            function loadTasks() {
                const savedTasks = localStorage.getItem(STORAGE_KEY);
                if (savedTasks) {
                    const tasks = JSON.parse(savedTasks);
                    tasks.forEach(task => {
                        createTaskElement(task.text, task.isCompleted);
                    });
                }
            }

            /* ------------------------------------------------------------------ */
            /* Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ù…Ù‡Ù…Ø© (ØªÙ… ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§ Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø­Ø§Ù„Ø© Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„) */
            /* ------------------------------------------------------------------ */
            function createTaskElement(taskText, isCompleted = false) {
                const randomVerse = getRandomVerse();
                const currentTheme = body.classList.contains('pink-theme') ? 'pink' : 'yellow';

                // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© (li)
                const li = document.createElement('li');
                li.className = 'flex items-start justify-between bg-gray-100 p-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-[1.02] shadow-sm';
                
                // Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù†Øµ ÙˆØ§Ù„Ø¢ÙŠØ©
                const textContainer = document.createElement('div');
                textContainer.className = 'flex flex-col sm:flex-row items-start sm:items-center flex-grow';

                // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ù†Øµ (span)
                const taskSpan = document.createElement('span');
                taskSpan.textContent = taskText;
                taskSpan.className = 'task-text text-gray-900 cursor-pointer text-lg mb-1 sm:mb-0'; 
                taskSpan.style.fontFamily = 'Amiri, serif';
                
                // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ø¢ÙŠØ© Ø§Ù„Ù…Ù„Ù‡Ù…Ø© (ÙŠØ£Ø®Ø° Ø§Ù„Ù„ÙˆÙ† Ù…Ù† Ø§Ù„Ø«ÙŠÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ)
                const verseElement = document.createElement('small');
                verseElement.textContent = `ï´¿${randomVerse}ï´¾`;
                verseElement.className = `verse-element text-${currentTheme}-600 text-opacity-75 text-xs italic sm:mr-3 whitespace-nowrap`;
                verseElement.style.fontFamily = 'Amiri, serif';
                
                // Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø£Ø²Ø±Ø§Ø±
                const buttonsContainer = document.createElement('div');
                buttonsContainer.className = 'flex items-center space-x-2 space-x-reverse ml-3'; 

                // 1. Ø²Ø± "ØªÙ… Ø¨Ø­Ù…Ø¯ Ø§Ù„Ù„Ù‡" (ÙŠØ³ØªØ®Ø¯Ù… Ø£ÙŠØ¶Ø§Ù‹ Ù„Ù„ØªØ±Ø§Ø¬Ø¹)
                const completeBtn = document.createElement('button');
                
                // 2. Ø²Ø± "Ø­Ø°Ù"
                const deleteBtn = document.createElement('button');
                deleteBtn.textContent = 'Ø­Ø°Ù';
                deleteBtn.className = 'text-sm text-red-500 hover:text-red-700 font-semibold transition whitespace-nowrap'; 

                // Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„ (Ø²Ø± "ØªÙ… Ø¨Ø­Ù…Ø¯ Ø§Ù„Ù„Ù‡")
                const toggleComplete = () => {
                    const isNowCompleted = !taskSpan.classList.contains('completed-task');
                    
                    taskSpan.classList.toggle('completed-task', isNowCompleted);
                    
                    // ØªØ­Ø¯ÙŠØ« Ø®Ù„ÙÙŠØ© Ø§Ù„Ù€ li Ø¨Ù„ÙˆÙ† Ø®ÙÙŠÙ
                    if (currentTheme === 'pink') {
                         li.classList.toggle('bg-rose-50', isNowCompleted); 
                    } else {
                         li.classList.toggle('bg-green-50', isNowCompleted); 
                    }
                    
                    if (isNowCompleted) {
                        completeBtn.textContent = 'ØªØ±Ø§Ø¬Ø¹';
                        // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø¹ÙƒØ³ÙŠ (Ù„ÙˆÙ† Ø§Ù„Ø«ÙŠÙ…) Ù„Ø²Ø± Ø§Ù„ØªØ±Ø§Ø¬Ø¹
                        completeBtn.className = `text-sm theme-btn-reverse text-${currentTheme}-600 font-semibold transition whitespace-nowrap`; 
                    } else {
                        completeBtn.textContent = 'ØªÙ… Ø¨Ø­Ù…Ø¯ Ø§Ù„Ù„Ù‡';
                        // Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø®Ø¶Ø± Ù„Ù„Ø¥Ù†Ø¬Ø§Ø²
                        completeBtn.className = 'text-sm text-green-600 hover:text-green-800 font-semibold transition whitespace-nowrap'; 
                    }
                    saveTasks(); // **Ø­ÙØ¸ Ø§Ù„Ø­Ø§Ù„Ø© Ø¨Ø¹Ø¯ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„**
                };

                completeBtn.addEventListener('click', toggleComplete);

                // Ù…Ù†Ø·Ù‚ Ø§Ù„Ø­Ø°Ù (Ø²Ø± "Ø­Ø°Ù")
                deleteBtn.addEventListener('click', () => {
                    li.remove();
                    saveTasks(); // **Ø­ÙØ¸ Ø§Ù„Ø­Ø§Ù„Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø°Ù**
                });

                // ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ±
                textContainer.appendChild(taskSpan);
                textContainer.appendChild(verseElement);
                
                buttonsContainer.appendChild(completeBtn);
                buttonsContainer.appendChild(deleteBtn);
                
                li.appendChild(textContainer);
                li.appendChild(buttonsContainer);
                taskList.appendChild(li);

                // ØªØ·Ø¨ÙŠÙ‚ Ø­Ø§Ù„Ø© Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø© Ù…Ù† Ø§Ù„Ø¯Ø§Ù„Ø© loadTasks
                if (isCompleted) {
                    // ÙŠØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙØ¦Ø§Øª
                    toggleComplete(); 
                } else {
                    // ØªØ·Ø¨ÙŠÙ‚ Ø­Ø§Ù„Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© (ØºÙŠØ± Ù…ÙƒØªÙ…Ù„)
                    completeBtn.textContent = 'ØªÙ… Ø¨Ø­Ù…Ø¯ Ø§Ù„Ù„Ù‡';
                    completeBtn.className = 'text-sm text-green-600 hover:text-green-800 font-semibold transition whitespace-nowrap'; 
                }
            }
            
            function addTask() {
                const taskText = taskInput.value.trim(); 

                if (taskText === '') {
                    showErrorMessage('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù†Øµ Ù„Ù„Ù…Ù‡Ù…Ø©.');
                    return; 
                }
                
                createTaskElement(taskText);
                saveTasks(); // **Ø­ÙØ¸ Ø§Ù„Ø­Ø§Ù„Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¶Ø§ÙØ©**

                taskInput.value = '';
                taskInput.focus();
            }
            /* ------------------------------------------------------------------ */
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø«ÙŠÙ… Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
            const savedTheme = localStorage.getItem('appTheme') || 'gold-theme';
            setTheme(savedTheme);
            
            // **ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù‡Ø§Ù… Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„**
            loadTasks();

            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªÙ…Ø¹ÙŠÙ† Ù„Ù„Ø£Ø²Ø±Ø§Ø±
            setPinkThemeBtn.addEventListener('click', () => setTheme('pink-theme'));
            setGoldThemeBtn.addEventListener('click', () => setTheme('gold-theme'));

            addTaskBtn.addEventListener('click', addTask);
            taskInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    addTask();
                }
            });
        });
    </script>

</body>
    </html>
    
